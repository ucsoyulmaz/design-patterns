drop table recipes;
drop table comments;
drop table users;
drop table ingredients;
drop table categories;
drop table ingredientsOfRecipes;
drop table lock;

CREATE TABLE lock(
	comment_id INT,
	user_name VARCHAR(20) NOT NULL
);


CREATE TABLE recipes(
	recipe_id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	user_name VARCHAR(20) NOT NULL,
	recipe_title VARCHAR(70) NOT NULL,
	recipe_description VARCHAR(1200) NOT NULL,
	cooking_time INT NOT NULL,
	cost INT NOT NULL,
	rating FLOAT,
	category_name VARCHAR(20) NOT NULL,
	version INT NOT NULL,
	modified_by VARCHAR(20) NOT NULL
);

INSERT INTO recipes (user_name, recipe_title, recipe_description, cooking_time, cost, rating, category_name, version, modified_by)VALUES ('Umut', 'Smoky chipotle mex pumpkin soup', 'To make the salsa, heat a chargrill pan on medium-high. Grill capsicum, skin-side down, for 4-5 minutes each side or until charred. Set aside to cool slightly then chop into 1cm pieces. Transfer to a bowl. Add onion, lime juice and black beans. Toss until well combined. Season well', 40, 30, 3.5, 'Soups', 1, 'Umut');
INSERT INTO recipes (user_name, recipe_title, recipe_description, cooking_time, cost, rating, category_name, version, modified_by)VALUES ('Umut', 'Homemade Baklava', 'To make syrup, combine the sugar, honey, lemon juice and zest, cloves and 180ml (3/4 cup) water in a saucepan. Bring to the boil over high heat, stirring until sugar dissolves. Reduce heat to medium and simmer for 3 minutes, then set aside to cool. To make filling, process walnuts in a food processor until finely chopped (take care not to over-process or nuts will become oily). Transfer to a large bowl. Repeat with almonds, then add to walnuts with sugar and cinnamon. Combine well.', 38, 50, 4.0, 'Desserts', 1, 'Umut');
INSERT INTO recipes (user_name, recipe_title, recipe_description, cooking_time, cost, rating, category_name, version, modified_by)VALUES ('Savan', 'Meat Lovers Pizza', 'Spray a large frying pan with oil. Heat over medium heat. Cook sausages, turning occasionally, for 10 to 12 minutes or until cooked through. Allow to cool. Thinly slice. Place pizza base on prepared tray. Spread base with barbecue sauce. Top with sausage, onion, bacon, pastrami and tomatoes. Sprinkle with cheese. Bake for 15 to 20 minutes or until cheese is melted and pizza base is crisp. Cut into wedges. Serve.', 32, 20, 3.75, 'Mains', 1, 'Savan');
INSERT INTO recipes (user_name, recipe_title, recipe_description, cooking_time, cost, rating, category_name, version, modified_by)VALUES ('Umut', 'Vegan Lasagne', 'Preheat oven to 180C. Heat oil in a frying pan on medium. Sauté onion, garlic and chilli for 2-3 mins until onion is tender. Add mushroom, pumpkin, capsicum and herbs and sauté for further 3-4 mins. Stir in lentils, tomatoes, stock and paste. Bring to the boil then reduce heat and simmer for 35-40 mins until thickened.', 90, 35, 4.5, 'Vegan', 1, 'Umut');

CREATE TABLE comments(
	comment_id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	user_name VARCHAR(20) NOT NULL,
	recipe_id INT NOT NULL,
	comment_content VARCHAR(1200) NOT NULL,
	comment_timestampt TIMESTAMP
);


INSERT INTO comments (user_name, recipe_id, comment_content)VALUES ('Savan',1, 'Amazing Soup, good job.');
INSERT INTO comments (user_name, recipe_id, comment_content)VALUES ('Savan',2, 'I love baklava, I will try it soon. Thank you');
INSERT INTO comments (user_name, recipe_id, comment_content)VALUES ('Ajay',2, 'It is amazing, thanks a lot.');
INSERT INTO comments (user_name, recipe_id, comment_content)VALUES ('Ajay',3, 'I think you should add more meat.');
INSERT INTO comments (user_name, recipe_id, comment_content)VALUES ('Savan',4, 'Perfect recipe for vegans.');

CREATE TABLE users(
	user_id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	user_name VARCHAR(20) NOT NULL,
	password VARCHAR(20) NOT NULL,
	user_type VARCHAR(10) NOT NULL
);

INSERT INTO users (user_name, password, user_type)VALUES ('Umut', 'Umut', 'Normal');
INSERT INTO users (user_name, password, user_type)VALUES ('Savan', 'Savan', 'Normal');

CREATE TABLE ingredients(
	ingredient_id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	ingredient_name VARCHAR(40) NOT NULL
);

INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (0,'Sugar');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (1,'Flour');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (2,'Milk');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (3,'Vanilia');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (4,'Eggs');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (5,'Meat');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (6,'Rice');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (7,'Tomato Paste');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (8,'Rice');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (9,'Onion');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (10,'Garlic');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (11,'Legumes');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (12,'Broccoli');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (13,'Spinach');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (14,'Artichoke');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (15,'Lettuce');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (16,'Yogurt');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (17,'Eggplant');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (18,'Carrot');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (19,'Patato');
INSERT INTO ingredients (ingredient_id, ingredient_name)VALUES (20,'Olive Oil');

CREATE TABLE categories(
	category_id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	category_name VARCHAR(40) NOT NULL
);

INSERT INTO categories (category_id, category_name)VALUES (0,'Desserts');
INSERT INTO categories (category_id, category_name)VALUES (1,'Soups');
INSERT INTO categories (category_id, category_name)VALUES (2,'Mains');
INSERT INTO categories (category_id, category_name)VALUES (3,'Appetizer');
INSERT INTO categories (category_id, category_name)VALUES (4,'Vegan');

CREATE TABLE ingredientsOfRecipes(
	recipe_id INT,
	ingredient_id INT
);

INSERT INTO ingredientsOfRecipes (recipe_id, ingredient_id)VALUES (1,1);
INSERT INTO ingredientsOfRecipes (recipe_id, ingredient_id)VALUES (1,2);
INSERT INTO ingredientsOfRecipes (recipe_id, ingredient_id)VALUES (1,3);
INSERT INTO ingredientsOfRecipes (recipe_id, ingredient_id)VALUES (2,2);


INSERT INTO users (user_name, password, user_type)VALUES ('Ajay', 'Ajay', 'Normal');